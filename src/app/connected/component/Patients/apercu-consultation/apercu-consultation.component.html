<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="bodys">
        
    <div class="d-flex align-items-end ">
        <h2 class="text-primary">Apercu sur une consultation</h2>
        <hr class="flex-grow-1 text-primary">
    </div>
    <div>
        <div class="forms">
            <div class="forms-container">
                <div class="gauche">
                    <div class="d-flex align-items-end mb-2">
                        <h5 class="text-primary">Informations personnelles</h5>
                        <hr class="flex-grow-1 text-primary">
                    </div>
                    <div>
                        <h6>Nom et Prenom</h6>
                        <span>{{infoEtudiant[1]}} {{infoEtudiant[0]}}</span>
                        <!-- //a modifier dans le back this.etudiant= this.etudiant[0] -->
                    </div>
                    <div>
                        <h6>Classe</h6>
                        <span>{{infoEtudiant[3]}} {{infoEtudiant[2]}}</span>
                    </div>
                    <div>
                        <h6>Date</h6>
                        <span>{{etudiant.dateCreationFC}}</span>
                    </div>
                    <div>
                        <h6>Heure d'arrivee</h6>
                        <span>{{etudiant.heureArriveeConsultation }}</span>
                    </div>
                    <div>
                        <h6>Heure de sortie</h6>
                        <span>{{etudiant.heureSortieConsultation}}</span>
                    </div>
                    <div>
                        <h6>Prochain rendez-vous</h6>
                        <span>{{etudiant.dateProchainRendezVous}} {{etudiant.heureProchainRendezVous}}</span>
                    </div>
                    <div class="d-flex align-items-end mb-2">
                        <h5 class="text-primary">Parametres</h5>
                        <hr class="flex-grow-1 text-primary">
                    </div>
                    <div>
                        <h6>Temperature</h6>
                        <span>{{etudiant.temperature}}</span>
                    </div>
                    <div>
                        <h6>Poids</h6>
                        <span>{{etudiant.poids}}</span>
                    </div>
                    <div>
                        <h6>Tension</h6>
                        <span>{{etudiant.tension}}</span>
                    </div>
                    <div>
                        <h6>Symptomes</h6>
                        <span *ngFor="let symptome of etudiant.symptomeList">{{symptome.nomSymptome}}, </span>
                    </div>
                </div>
                <div class="droite">
                    <div class="d-flex align-items-end mb-2">
                        <h5 class="text-primary">Prise en charge</h5>
                        <hr class="flex-grow-1 text-primary">
                    </div>
                    <div>
                        <h6>Diagnostic</h6>
                        <span *ngFor="let diagnostique of etudiant.diagnostiqueList">{{diagnostique.nomDiagnostique}}, </span>
                    </div>
                    <div>
                        <h6>Examen</h6>
                        <span *ngFor="let examen of etudiant.examenList">{{examen.nomExamen }}</span>
                    </div>
                    <div>
                        <h6>Soins</h6>
                        <span>{{etudiant.soinsDispense}}</span>
                    </div>
                     <div *ngIf="etudiant.facture != null">
                        <h6>Medicaments</h6>
                       <span
                            *ngFor="let medicamentS of etudiant.facture.ficheConsultation.medicamentListConsultation">{{medicamentS.medicament.nomMedicament}} {{medicamentS.medicament.dosage }}mg, </span>
                    </div> 
                    
                    <!-- soinsDispense -->
                    <div class="d-flex align-items-end mb-2">
                        <h5 class="text-primary">Suivi</h5>
                        <hr class="flex-grow-1 text-primary">
                    </div>
                    <div class="divScroll">
                    <table *ngIf="etudiant && etudiant.fiche_suivieList && etudiant.fiche_suivieList.length !== 0"
                        class="table">
                        <thead>
                            <th>Date</th>
                            <th>Diagnostic</th>
                            <th></th>
                        </thead>
                        <tbody>
                            <tr *ngFor="let ficheSuivi of etudiant.fiche_suivieList.reverse()">
                                <td>{{ficheSuivi.dateRendezVous}}</td>
                                <td><span
                                        *ngFor="let diagnostics of ficheSuivi.diagnostiqueList">{{diagnostics.nomDiagnostique}}, </span></td>
                                <td>
                                    <a (click)="exploreSuivi(ficheSuivi.idFicheSuivie)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="26.613" height="17.779"
                                            viewBox="0 0 26.613 17.779">
                                            <path id="more"
                                                d="M26.453,12.713A14.817,14.817,0,0,0,13.307,4.5,14.819,14.819,0,0,0,.161,12.714a1.5,1.5,0,0,0,0,1.351,14.817,14.817,0,0,0,13.146,8.213,14.819,14.819,0,0,0,13.146-8.214A1.5,1.5,0,0,0,26.453,12.713ZM13.307,20.056a6.667,6.667,0,1,1,6.653-6.667A6.66,6.66,0,0,1,13.307,20.056Zm0-11.112a4.4,4.4,0,0,0-1.169.175,2.213,2.213,0,0,1-3.091,3.1,4.423,4.423,0,1,0,4.26-3.273Z"
                                                transform="translate(0 -4.5)" fill="#707070" />
                                        </svg>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    </div>
                    <div class="d-flex align-items-end mb-2">
                        <h5 class="text-primary">Factures</h5>
                        <hr class="flex-grow-1 text-primary">
                    </div>
                    <h6 *ngIf="etudiant.facture" style="color: black;text-decoration: underline;cursor: pointer;"
                        (click)="consulterFacture(etudiant.facture.NumFacture)"> <em style="font-size: small;"> Consulter la facture</em></h6>


                </div>
            </div>
            <button routerLink="../.." class="btn btn-purple bgauche">
                <img src="./assets/img/preview.svg" alt="">
                Page precedente
            </button>
            <button (click)="suivre()" class="btn btn-primary bdroite">
                <img src="./assets/img/next.svg" alt="">
                Suivre
            </button>
        </div>
    </div>

    </div>
</body>

</html>