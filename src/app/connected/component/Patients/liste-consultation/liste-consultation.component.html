<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="d-flex align-items-end ">
        <h2 class="text-primary">Liste des consultations</h2>
        <hr class="flex-grow-1 text-primary">
    </div>
    <div class="forms-container ">

        <p-table #dt1
            [globalFilterFields]="['ficheConsultations.diagnostiqueList.nomDiagnostique','dateCreationFacture','ficheConsultation[1]','ficheConsultation[2]']"
            [value]="ficheConsultations.reverse()" class="table" [paginator]="true" [rows]="7"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [rowsPerPageOptions]="[7, 15, 20]">
            <ng-template pTemplate="caption">
                <div class="flex">
                    <input pInputText type="text" [(ngModel)]="search" (input)="dt1.filterGlobal(search, 'contains')"
                        placeholder="Cherchez par Nom, Matricule" />

                    <button pButton label="Effacer" class="p-button bg-gray" icon="pi pi-filter-slash"
                        (click)="clear(dt1)"></button>

                    <!-- <pre>{{search}}</pre> -->
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <!-- <th class="text-left" scope="col">N*</th> -->
                    <!-- <th class="text-left " scope="col" style="width:10%" >facture.idFacture</th> -->
                    <th scope="col" style="width:35%" pSortableColumn="ficheConsultation[1]">Etudiant</th>
                    <th scope="col" style="width:13%" pSortableColumn="dateCreationFC">Date<p-sortIcon
                            field="dateCreationFC"></p-sortIcon><p-columnFilter type="text" field="niveau"
                            display="menu"></p-columnFilter></th>
                    <th scope="col" style="width:10%" pSortableColumn="heureArriveeConsultation">Heure
                        d'arivee<p-sortIcon field="heureArriveeConsultation"></p-sortIcon></th>
                    <th scope="col" style="width:12%">Diagnostic</th>

                    <!-- <th scope="col" style="width:10%">Age</th>
                    <th scope="col" style="width:10%">Sexe<p-columnFilter type="text" field="sexe" display="menu"></p-columnFilter></th> -->
                    <th scope="col" style="width:10%">Actions</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-ficheConsultation>
                <tr>
                    <!-- <th class="text-left" scope="row" style="width:10%">{{ facture.idFacture }}</th> -->
                    <!-- <td class="text-left">{{ etudiant.matricule }}</td> -->
                    <td style="width:35%">{{ficheConsultation[1]}} {{ficheConsultation[2]}}</td>
                    <td style="width:13%">{{ ficheConsultation[0].dateCreationFC }}</td>
                    <td style="width:10%">{{ ficheConsultation[0].heureArriveeConsultation }}</td>
                    <td style="width:12%"><span
                            *ngFor="let diagnostics of ficheConsultation[0].diagnostiqueList.reverse()">{{diagnostics.nomDiagnostique}}</span>
                    </td>
                    <td style="width:10%">
                        <a (click)="more(ficheConsultation[0].idFicheConsultation)">
                            <svg class="more" xmlns="http://www.w3.org/2000/svg" width="26.613" height="17.779"
                                viewBox="0 0 26.613 17.779">
                                <path id="more"
                                    d="M26.453,12.713A14.817,14.817,0,0,0,13.307,4.5,14.819,14.819,0,0,0,.161,12.714a1.5,1.5,0,0,0,0,1.351,14.817,14.817,0,0,0,13.146,8.213,14.819,14.819,0,0,0,13.146-8.214A1.5,1.5,0,0,0,26.453,12.713ZM13.307,20.056a6.667,6.667,0,1,1,6.653-6.667A6.66,6.66,0,0,1,13.307,20.056Zm0-11.112a4.4,4.4,0,0,0-1.169.175,2.213,2.213,0,0,1-3.091,3.1,4.423,4.423,0,1,0,4.26-3.273Z"
                                    transform="translate(0 -4.5)" fill="#707070" />
                            </svg>
                        </a>

                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="paginatorleft">
                <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
            </ng-template>
        </p-table>
    </div>
</body>

</html>